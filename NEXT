return err from IsTerm() instead of panic
